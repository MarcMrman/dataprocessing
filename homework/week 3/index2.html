<!DOCTYPE html>
<html>
  <head>
  	    <meta charset="utf-8">
        <title>Population growth Canada</title>
        <script type="text/javascript" src="d3/d3.min.js"></script>
        <link rel="stylesheet" type="text/css" href="index.css">
  </head>
  <body>
  	<script type="text/javascript">
	  	
	  	var body = d3.select("body");

	  	body.append("h1").text("Marc Moorman");
	  	body.append("h1").text("10769781");
	  	body.append("h2").text("Canadian population development 1851-2001")

	  	d3.json("Canadian population 1851-2001.json", function(data) {
	  		// put data in new variable
	  		var dataset = data

	  		var population = [];
	  		var years = [];

	  		// put info in seperate arrays
	  		for (var i = 0; i < dataset.data.length; i ++){
	  			var populationX = dataset.data[i][" population"];
	  			population.push(populationX);

	  			var yearX = dataset.data[i]["year "];
	  			years.push(yearX)
	  		}
	  		console.log(population)
	  		//console.log(years)

		    // Width and height of svg element
			var w = 1000;
			var h = 400;
			//var barPadding = 1;
			var padding = 10


			// MIN EN MAX ZOEKEN
			// var min = d3.min(population)
			// console.log(min)
			// console.log(population[15])

			// var max = d3.max(population)
			// console.log(max)
			// console.log(d3.max(population, function(d) { 
			// 	return d }))
			
			// scaling
			var scaleX = d3.scale.linear()
                     	.domain([1841, 2001])
                     	.range([100, w - 30]);

			var scaleY = d3.scale.linear()
								.domain([population[15], 0])
								.range([10, h - 20]);

			// axis
			var x_axis = d3.svg.axis()
								.scale(scaleX)
								.orient("bottom")
								.ticks(16)
			
			var y_axis = d3.svg.axis()
								.scale(scaleY)
								.orient("left")
								.ticks(5)

			var tip = d3.tip().attr('class', 'd3-tip').offset([-10, 0]).html(function(d) {
					    return "<strong>Population:</strong> <span style='color:red'>" + d.frequency + "</span>";
			});

		    //Create SVG element
			var svg = d3.select("body")
			            .append("svg")
			            .attr("width", w)
			            .attr("height", h);
			
			// drawing bars
			svg.selectAll("rect")
			   .data(dataset.data)
			   .enter()
			   .append("rect")
			   .attr("x", function(d, i){
			   		return i * ((w - 100) / dataset.data.length) + 100  // - barPadding)
			   })
			   .attr("y", function(d, i){
			   		return (h- 20) - population[i]; //((h -20 )-
			   })
			   .attr("width", 20)
			   .attr("height", function(d, i){
			   		return population[i];
			   })
			   .attr("fill", "red");

			// drawing x axis
			svg.append("g")
			    .attr("class", "axis")
			    .attr("transform", "translate(0," + (h - 20) + ")")
			    .call(x_axis);
			
			// drawing y axis
			svg.append("g")
				.attr("class", "axis")
			    .attr("transform", "translate(" + (w - 900) + ", 0)")
			    .call(y_axis);
        });
  	</script>
  </body>
</html>




<!-- PROBEREN OM TE DRAAINEN
 --><!-- 			   
		svg.selectAll("rect")
			.data(dataset.data)
			   .enter()
			   .append("rect")
			   .attr("x", function(d, i){
			   		return i * (w / (dataset.data.length - barPadding))
			   })
			   .attr("y", function(d, i){
			   		return h -( i * population[i])
			   })
			   .attr("width", 20)
			   .attr("height", function(d){
			   		return population[i]
			   })
			   .attr("fill", "red");	    -->